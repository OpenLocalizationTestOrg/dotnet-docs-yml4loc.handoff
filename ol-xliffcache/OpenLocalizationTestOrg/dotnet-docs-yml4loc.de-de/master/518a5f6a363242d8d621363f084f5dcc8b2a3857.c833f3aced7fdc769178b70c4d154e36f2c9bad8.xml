{"nodes":[{"content":"Describes a resource object that supports single phase commit optimization to participate in a transaction.","nodes":[{"pos":[0,107],"content":"Describes a resource object that supports single phase commit optimization to participate in a transaction.","nodes":[{"content":"Describes a resource object that supports single phase commit optimization to participate in a transaction.","pos":[0,107]}]}],"pos":[598,706],"yaml":true},{"content":"You should note that even when your resource manager implements this interface to support single phase commit optimization, it is not guaranteed that it receives a single phase commit. The transaction manager can still send two phase commit notifications instead.  \n  \n To enlist your resource manager as a participant in a transaction, call the <xref:System.Transactions.Transaction.EnlistVolatile%2A> method or the <xref:System.Transactions.Transaction.EnlistDurable%2A> method of the <xref:System.Transactions.Transaction> class. Specifically, the `EnlistmentOptions` parameter should equal to <xref:System.Transactions.EnlistmentOptions.None> to ensure that a single phase commit is performed. If it is mistakenly set to <xref:System.Transactions.EnlistmentOptions.EnlistDuringPrepareRequired>, no single phase commit occurs.  \n  \n Since the <xref:System.Transactions.ISinglePhaseNotification> interface derives from the <xref:System.Transactions.IEnlistmentNotification> interface, the resource manager must also implement all the methods of the latter for two phase commit notifications.  It is the transaction manager's choice as to whether two phase commit or the single phase commit optimization is used with this resource manager.  However, implementing this interface gives the resource manager the opportunity to take advantage of the optimization when it is available.  \n  \n If the optimization is used and the transaction manager calls the <xref:System.Transactions.ISinglePhaseNotification.SinglePhaseCommit%2A> method of the enlisted resource, the resource manager should respond to this call by using various methods of the <xref:System.Transactions.SinglePhaseEnlistment> class to inform the transaction manager if the transaction is to be committed or rolled back.","nodes":[{"pos":[0,263],"content":"You should note that even when your resource manager implements this interface to support single phase commit optimization, it is not guaranteed that it receives a single phase commit. The transaction manager can still send two phase commit notifications instead.","nodes":[{"content":"You should note that even when your resource manager implements this interface to support single phase commit optimization, it is not guaranteed that it receives a single phase commit. The transaction manager can still send two phase commit notifications instead.","pos":[0,263],"nodes":[{"content":"You should note that even when your resource manager implements this interface to support single phase commit optimization, it is not guaranteed that it receives a single phase commit.","pos":[0,184]},{"content":"The transaction manager can still send two phase commit notifications instead.","pos":[185,263]}]}]},{"pos":[270,829],"content":"To enlist your resource manager as a participant in a transaction, call the <xref:System.Transactions.Transaction.EnlistVolatile%2A> method or the <xref:System.Transactions.Transaction.EnlistDurable%2A> method of the <xref:System.Transactions.Transaction> class. Specifically, the `EnlistmentOptions` parameter should equal to <xref:System.Transactions.EnlistmentOptions.None> to ensure that a single phase commit is performed. If it is mistakenly set to <xref:System.Transactions.EnlistmentOptions.EnlistDuringPrepareRequired>, no single phase commit occurs.","nodes":[{"content":"To enlist your resource manager as a participant in a transaction, call the <ph id=\"ph1\">&lt;xref:System.Transactions.Transaction.EnlistVolatile%2A&gt;</ph> method or the <ph id=\"ph2\">&lt;xref:System.Transactions.Transaction.EnlistDurable%2A&gt;</ph> method of the <ph id=\"ph3\">&lt;xref:System.Transactions.Transaction&gt;</ph> class.","pos":[0,262],"source":"To enlist your resource manager as a participant in a transaction, call the <xref:System.Transactions.Transaction.EnlistVolatile%2A> method or the <xref:System.Transactions.Transaction.EnlistDurable%2A> method of the <xref:System.Transactions.Transaction> class."},{"content":"Specifically, the <ph id=\"ph1\">`EnlistmentOptions`</ph> parameter should equal to <ph id=\"ph2\">&lt;xref:System.Transactions.EnlistmentOptions.None&gt;</ph> to ensure that a single phase commit is performed.","pos":[263,427],"source":" Specifically, the `EnlistmentOptions` parameter should equal to <xref:System.Transactions.EnlistmentOptions.None> to ensure that a single phase commit is performed."},{"content":"If it is mistakenly set to <ph id=\"ph1\">&lt;xref:System.Transactions.EnlistmentOptions.EnlistDuringPrepareRequired&gt;</ph>, no single phase commit occurs.","pos":[428,559],"source":" If it is mistakenly set to <xref:System.Transactions.EnlistmentOptions.EnlistDuringPrepareRequired>, no single phase commit occurs."}]},{"pos":[836,1381],"content":"Since the <xref:System.Transactions.ISinglePhaseNotification> interface derives from the <xref:System.Transactions.IEnlistmentNotification> interface, the resource manager must also implement all the methods of the latter for two phase commit notifications.  It is the transaction manager's choice as to whether two phase commit or the single phase commit optimization is used with this resource manager.  However, implementing this interface gives the resource manager the opportunity to take advantage of the optimization when it is available.","nodes":[{"content":"Since the <xref:System.Transactions.ISinglePhaseNotification> interface derives from the <xref:System.Transactions.IEnlistmentNotification> interface, the resource manager must also implement all the methods of the latter for two phase commit notifications.  It is the transaction manager's choice as to whether two phase commit or the single phase commit optimization is used with this resource manager.  However, implementing this interface gives the resource manager the opportunity to take advantage of the optimization when it is available.","pos":[0,545],"nodes":[{"content":"Since the <ph id=\"ph1\">&lt;xref:System.Transactions.ISinglePhaseNotification&gt;</ph> interface derives from the <ph id=\"ph2\">&lt;xref:System.Transactions.IEnlistmentNotification&gt;</ph> interface, the resource manager must also implement all the methods of the latter for two phase commit notifications.","pos":[0,257],"source":"Since the <xref:System.Transactions.ISinglePhaseNotification> interface derives from the <xref:System.Transactions.IEnlistmentNotification> interface, the resource manager must also implement all the methods of the latter for two phase commit notifications."},{"content":"It is the transaction manager's choice as to whether two phase commit or the single phase commit optimization is used with this resource manager.","pos":[259,404]},{"content":"However, implementing this interface gives the resource manager the opportunity to take advantage of the optimization when it is available.","pos":[406,545]}]}]},{"pos":[1388,1783],"content":"If the optimization is used and the transaction manager calls the <xref:System.Transactions.ISinglePhaseNotification.SinglePhaseCommit%2A> method of the enlisted resource, the resource manager should respond to this call by using various methods of the <xref:System.Transactions.SinglePhaseEnlistment> class to inform the transaction manager if the transaction is to be committed or rolled back.","nodes":[{"content":"If the optimization is used and the transaction manager calls the <ph id=\"ph1\">&lt;xref:System.Transactions.ISinglePhaseNotification.SinglePhaseCommit%2A&gt;</ph> method of the enlisted resource, the resource manager should respond to this call by using various methods of the <ph id=\"ph2\">&lt;xref:System.Transactions.SinglePhaseEnlistment&gt;</ph> class to inform the transaction manager if the transaction is to be committed or rolled back.","pos":[0,395],"source":"If the optimization is used and the transaction manager calls the <xref:System.Transactions.ISinglePhaseNotification.SinglePhaseCommit%2A> method of the enlisted resource, the resource manager should respond to this call by using various methods of the <xref:System.Transactions.SinglePhaseEnlistment> class to inform the transaction manager if the transaction is to be committed or rolled back."}]}],"pos":[717,2509],"yaml":true,"extradata":"MT"},{"content":"Represents the resource manager's implementation of the callback for the single phase commit optimization.","nodes":[{"pos":[0,106],"content":"Represents the resource manager's implementation of the callback for the single phase commit optimization.","nodes":[{"content":"Represents the resource manager's implementation of the callback for the single phase commit optimization.","pos":[0,106]}]}],"pos":[4111,4218],"yaml":true},{"content":"It is the transaction manager's choice as to whether two phase commit or the single phase commit optimization is used with this resource manager.  For more information on single phase and two phase commit, see [Committing A Transaction In Single-Phase and Multi-Phase](http://msdn.microsoft.com/en-us/74b3cfe1-d33a-45b8-91f4-dfd6f6598c4d).  \n  \n Therefore, on this enlistment of the resource manager, either the <xref:System.Transactions.ISinglePhaseNotification.SinglePhaseCommit%2A> method is called, or the two phase commit methods defined in ther <xref:System.Transactions.IEnlistmentNotification> interface are called.  \n  \n Your implementation of this method should call either the <xref:System.Transactions.SinglePhaseEnlistment.Committed%2A> method or the <xref:System.Transactions.SinglePhaseEnlistment.Aborted%2A> method of the `singlePhaseEnlistment` parameter to indicate whether the transaction should be committed or rolled back.  \n  \n The transaction manager calls this method when there is only one volatile enlistment that supports single phase commit, or when there are zero or more volatile enlistments and one durable enlistment. In the latter case, the volatile enlistments receive <xref:System.Transactions.IEnlistmentNotification.Prepare%2A> notifications for two-phase-commit, and the sole durable enlistment receives a single-phase commit notification.","nodes":[{"pos":[0,339],"content":"It is the transaction manager's choice as to whether two phase commit or the single phase commit optimization is used with this resource manager.  For more information on single phase and two phase commit, see [Committing A Transaction In Single-Phase and Multi-Phase](http://msdn.microsoft.com/en-us/74b3cfe1-d33a-45b8-91f4-dfd6f6598c4d).","nodes":[{"content":"It is the transaction manager's choice as to whether two phase commit or the single phase commit optimization is used with this resource manager.","pos":[0,145]},{"content":"For more information on single phase and two phase commit, see <bpt id=\"p1\">[</bpt>Committing A Transaction In Single-Phase and Multi-Phase<ept id=\"p1\">](http://msdn.microsoft.com/en-us/74b3cfe1-d33a-45b8-91f4-dfd6f6598c4d)</ept>.","pos":[147,339],"source":"  For more information on single phase and two phase commit, see [Committing A Transaction In Single-Phase and Multi-Phase](http://msdn.microsoft.com/en-us/74b3cfe1-d33a-45b8-91f4-dfd6f6598c4d)."}]},{"pos":[346,623],"content":"Therefore, on this enlistment of the resource manager, either the <xref:System.Transactions.ISinglePhaseNotification.SinglePhaseCommit%2A> method is called, or the two phase commit methods defined in ther <xref:System.Transactions.IEnlistmentNotification> interface are called.","nodes":[{"content":"Therefore, on this enlistment of the resource manager, either the <ph id=\"ph1\">&lt;xref:System.Transactions.ISinglePhaseNotification.SinglePhaseCommit%2A&gt;</ph> method is called, or the two phase commit methods defined in ther <ph id=\"ph2\">&lt;xref:System.Transactions.IEnlistmentNotification&gt;</ph> interface are called.","pos":[0,277],"source":"Therefore, on this enlistment of the resource manager, either the <xref:System.Transactions.ISinglePhaseNotification.SinglePhaseCommit%2A> method is called, or the two phase commit methods defined in ther <xref:System.Transactions.IEnlistmentNotification> interface are called."}]},{"pos":[630,943],"content":"Your implementation of this method should call either the <ph id=\"ph1\">&lt;xref:System.Transactions.SinglePhaseEnlistment.Committed%2A&gt;</ph> method or the <ph id=\"ph2\">&lt;xref:System.Transactions.SinglePhaseEnlistment.Aborted%2A&gt;</ph> method of the <ph id=\"ph3\">`singlePhaseEnlistment`</ph> parameter to indicate whether the transaction should be committed or rolled back.","source":"Your implementation of this method should call either the <xref:System.Transactions.SinglePhaseEnlistment.Committed%2A> method or the <xref:System.Transactions.SinglePhaseEnlistment.Aborted%2A> method of the `singlePhaseEnlistment` parameter to indicate whether the transaction should be committed or rolled back."},{"pos":[950,1377],"content":"The transaction manager calls this method when there is only one volatile enlistment that supports single phase commit, or when there are zero or more volatile enlistments and one durable enlistment. In the latter case, the volatile enlistments receive <xref:System.Transactions.IEnlistmentNotification.Prepare%2A> notifications for two-phase-commit, and the sole durable enlistment receives a single-phase commit notification.","nodes":[{"content":"The transaction manager calls this method when there is only one volatile enlistment that supports single phase commit, or when there are zero or more volatile enlistments and one durable enlistment. In the latter case, the volatile enlistments receive <xref:System.Transactions.IEnlistmentNotification.Prepare%2A> notifications for two-phase-commit, and the sole durable enlistment receives a single-phase commit notification.","pos":[0,427],"nodes":[{"content":"The transaction manager calls this method when there is only one volatile enlistment that supports single phase commit, or when there are zero or more volatile enlistments and one durable enlistment.","pos":[0,199]},{"content":"In the latter case, the volatile enlistments receive <ph id=\"ph1\">&lt;xref:System.Transactions.IEnlistmentNotification.Prepare%2A&gt;</ph> notifications for two-phase-commit, and the sole durable enlistment receives a single-phase commit notification.","pos":[200,427],"source":" In the latter case, the volatile enlistments receive <xref:System.Transactions.IEnlistmentNotification.Prepare%2A> notifications for two-phase-commit, and the sole durable enlistment receives a single-phase commit notification."}]}]}],"pos":[4229,5615],"yaml":true,"extradata":"MT"}],"content":"### YamlMime:ManagedReference\nitems:\n- uid: System.Transactions.ISinglePhaseNotification\n  commentId: T:System.Transactions.ISinglePhaseNotification\n  id: ISinglePhaseNotification\n  children:\n  - System.Transactions.ISinglePhaseNotification.SinglePhaseCommit(System.Transactions.SinglePhaseEnlistment)\n  langs:\n  - csharp\n  name: ISinglePhaseNotification\n  nameWithType: ISinglePhaseNotification\n  fullName: System.Transactions.ISinglePhaseNotification\n  type: Interface\n  assemblies:\n  - System.Transactions\n  - netstandard\n  - System.Transactions.Local\n  namespace: System.Transactions\n  summary: Describes a resource object that supports single phase commit optimization to participate in a transaction.\n  remarks: \"You should note that even when your resource manager implements this interface to support single phase commit optimization, it is not guaranteed that it receives a single phase commit. The transaction manager can still send two phase commit notifications instead.  \\n  \\n To enlist your resource manager as a participant in a transaction, call the <xref:System.Transactions.Transaction.EnlistVolatile%2A> method or the <xref:System.Transactions.Transaction.EnlistDurable%2A> method of the <xref:System.Transactions.Transaction> class. Specifically, the `EnlistmentOptions` parameter should equal to <xref:System.Transactions.EnlistmentOptions.None> to ensure that a single phase commit is performed. If it is mistakenly set to <xref:System.Transactions.EnlistmentOptions.EnlistDuringPrepareRequired>, no single phase commit occurs.  \\n  \\n Since the <xref:System.Transactions.ISinglePhaseNotification> interface derives from the <xref:System.Transactions.IEnlistmentNotification> interface, the resource manager must also implement all the methods of the latter for two phase commit notifications.  It is the transaction manager's choice as to whether two phase commit or the single phase commit optimization is used with this resource manager.  However, implementing this interface gives the resource manager the opportunity to take advantage of the optimization when it is available.  \\n  \\n If the optimization is used and the transaction manager calls the <xref:System.Transactions.ISinglePhaseNotification.SinglePhaseCommit%2A> method of the enlisted resource, the resource manager should respond to this call by using various methods of the <xref:System.Transactions.SinglePhaseEnlistment> class to inform the transaction manager if the transaction is to be committed or rolled back.\"\n  syntax:\n    content: 'public interface ISinglePhaseNotification : System.Transactions.IEnlistmentNotification'\n  implements:\n  - System.Transactions.IEnlistmentNotification\n  version:\n  - netcore-2.0\n  - netframework-4.5.1\n  - netframework-4.5.2\n  - netframework-4.5\n  - netframework-4.6.1\n  - netframework-4.6.2\n  - netframework-4.6\n  - netframework-4.7\n  - netstandard-2.0\n  - xamarinandroid-7.1\n  - xamarinios-10.8\n  - xamarinmac-3.0\n  monikers:\n  - netcore-2.0\n  - netframework-4.5.1\n  - netframework-4.5.2\n  - netframework-4.5\n  - netframework-4.6.1\n  - netframework-4.6.2\n  - netframework-4.6\n  - netframework-4.7\n  - netstandard-2.0\n  - xamarinandroid-7.1\n  - xamarinios-10.8\n  - xamarinmac-3.0\n  content_git_url: https://github.com/dotnet/docs/blob/master/xml/System.Transactions/ISinglePhaseNotification.xml\n  ms.technology:\n  - dotnet-standard\n  manager: ghogen\n- uid: System.Transactions.ISinglePhaseNotification.SinglePhaseCommit(System.Transactions.SinglePhaseEnlistment)\n  commentId: M:System.Transactions.ISinglePhaseNotification.SinglePhaseCommit(System.Transactions.SinglePhaseEnlistment)\n  id: SinglePhaseCommit(System.Transactions.SinglePhaseEnlistment)\n  parent: System.Transactions.ISinglePhaseNotification\n  langs:\n  - csharp\n  name: SinglePhaseCommit(SinglePhaseEnlistment)\n  nameWithType: ISinglePhaseNotification.SinglePhaseCommit(SinglePhaseEnlistment)\n  fullName: ISinglePhaseNotification.SinglePhaseCommit(SinglePhaseEnlistment)\n  type: Method\n  assemblies:\n  - System.Transactions\n  - netstandard\n  - System.Transactions.Local\n  namespace: System.Transactions\n  summary: Represents the resource manager's implementation of the callback for the single phase commit optimization.\n  remarks: \"It is the transaction manager's choice as to whether two phase commit or the single phase commit optimization is used with this resource manager.  For more information on single phase and two phase commit, see [Committing A Transaction In Single-Phase and Multi-Phase](http://msdn.microsoft.com/en-us/74b3cfe1-d33a-45b8-91f4-dfd6f6598c4d).  \\n  \\n Therefore, on this enlistment of the resource manager, either the <xref:System.Transactions.ISinglePhaseNotification.SinglePhaseCommit%2A> method is called, or the two phase commit methods defined in ther <xref:System.Transactions.IEnlistmentNotification> interface are called.  \\n  \\n Your implementation of this method should call either the <xref:System.Transactions.SinglePhaseEnlistment.Committed%2A> method or the <xref:System.Transactions.SinglePhaseEnlistment.Aborted%2A> method of the `singlePhaseEnlistment` parameter to indicate whether the transaction should be committed or rolled back.  \\n  \\n The transaction manager calls this method when there is only one volatile enlistment that supports single phase commit, or when there are zero or more volatile enlistments and one durable enlistment. In the latter case, the volatile enlistments receive <xref:System.Transactions.IEnlistmentNotification.Prepare%2A> notifications for two-phase-commit, and the sole durable enlistment receives a single-phase commit notification.\"\n  syntax:\n    content: public void SinglePhaseCommit (System.Transactions.SinglePhaseEnlistment enlistment);\n    parameters:\n    - id: singlePhaseEnlistment\n      type: System.Transactions.SinglePhaseEnlistment\n      description: ''\n  overload: System.Transactions.ISinglePhaseNotification.SinglePhaseCommit*\n  exceptions: []\n  version:\n  - netcore-2.0\n  - netframework-4.5.1\n  - netframework-4.5.2\n  - netframework-4.5\n  - netframework-4.6.1\n  - netframework-4.6.2\n  - netframework-4.6\n  - netframework-4.7\n  - netstandard-2.0\n  - xamarinandroid-7.1\n  - xamarinios-10.8\n  - xamarinmac-3.0\n  monikers:\n  - netcore-2.0\n  - netframework-4.5.1\n  - netframework-4.5.2\n  - netframework-4.5\n  - netframework-4.6.1\n  - netframework-4.6.2\n  - netframework-4.6\n  - netframework-4.7\n  - netstandard-2.0\n  - xamarinandroid-7.1\n  - xamarinios-10.8\n  - xamarinmac-3.0\n  content_git_url: https://github.com/dotnet/docs/blob/master/xml/System.Transactions/ISinglePhaseNotification.xml\n  ms.technology:\n  - dotnet-standard\n  manager: ghogen\nreferences:\n- uid: System.Transactions.ISinglePhaseNotification.SinglePhaseCommit(System.Transactions.SinglePhaseEnlistment)\n  parent: System.Transactions.ISinglePhaseNotification\n  isExternal: false\n  name: SinglePhaseCommit(SinglePhaseEnlistment)\n  nameWithType: ISinglePhaseNotification.SinglePhaseCommit(SinglePhaseEnlistment)\n  fullName: ISinglePhaseNotification.SinglePhaseCommit(SinglePhaseEnlistment)\n- uid: System.Transactions.SinglePhaseEnlistment\n  parent: System.Transactions\n  isExternal: false\n  name: SinglePhaseEnlistment\n  nameWithType: SinglePhaseEnlistment\n  fullName: System.Transactions.SinglePhaseEnlistment\n- uid: System.Transactions.ISinglePhaseNotification.SinglePhaseCommit*\n  parent: System.Transactions.ISinglePhaseNotification\n  isExternal: false\n  name: SinglePhaseCommit\n  nameWithType: ISinglePhaseNotification.SinglePhaseCommit\n  fullName: ISinglePhaseNotification.SinglePhaseCommit\n  monikers:\n  - netcore-2.0\n  - netframework-4.5.1\n  - netframework-4.5.2\n  - netframework-4.5\n  - netframework-4.6.1\n  - netframework-4.6.2\n  - netframework-4.6\n  - netframework-4.7\n  - netstandard-2.0\n  - xamarinandroid-7.1\n  - xamarinios-10.8\n  - xamarinmac-3.0\n  content_git_url: https://github.com/dotnet/docs/blob/master/xml/System.Transactions/ISinglePhaseNotification.xml\n- uid: System.Transactions.IEnlistmentNotification\n  parent: System.Transactions\n  isExternal: false\n  name: IEnlistmentNotification\n  nameWithType: IEnlistmentNotification\n  fullName: System.Transactions.IEnlistmentNotification\n"}
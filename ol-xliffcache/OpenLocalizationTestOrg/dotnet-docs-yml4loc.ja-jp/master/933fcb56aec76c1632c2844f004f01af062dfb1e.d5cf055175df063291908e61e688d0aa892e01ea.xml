{"nodes":[{"content":"Specifies the order of operations that protect a message.","nodes":[{"pos":[0,57],"content":"Specifies the order of operations that protect a message.","nodes":[{"content":"Specifies the order of operations that protect a message.","pos":[0,57]}]}],"pos":[702,760],"yaml":true},{"content":"This enumeration is used with the <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement.MessageProtectionOrder%2A?displayProperty=fullName> property of the <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement> and the <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement.MessageProtectionOrder%2A?displayProperty=fullName> property of the <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> classes.  \n  \n If a message is vulnerable to a digest attack (for example, if the message is short or the entropy is low), you should use the SignBeforeEncryptAndEncryptSignature or EncryptBeforeSign option. (*Entropy* is random data provided by a server, a client, or both, and is used to create a shared key for encrypting and decrypting data.)  \n  \n## What Is Ordered?  \n [!INCLUDE[indigo2](~/includes/indigo2-md.md)] offers three different protection levels that determine how messages are secured using SOAP message security. The default is SignBeforeEncryptAndEncryptSignature. This setting first signs the message, encrypts the message body, and then encrypts the XML signature. This reduces the likelihood of a successful cryptographic guessing attack against the signature.  \n  \n However, using the default has performance implications. In effect, there is a tradeoff of performance for increased security. Encrypting the signature can decrease performance between 10 percent and 40 percent. If the data content of the message is of low value, and performance throughput is more significant, use SignBeforeEncrypt. With this setting, the signature digest is sent in clear text, and thus the message is more vulnerable to guess-and-verify attacks on low entropy.  \n  \n## Custom Bindings Only  \n To change the `MessageProtectionOrder` property requires the creation of a custom security binding. For more information about creating custom bindings, see [Creating User-Defined Bindings](~/docs/framework/wcf/extending/creating-user-defined-bindings.md). For more information about creating a custom binding for a specific authentication mode, see [How to: Create a SecurityBindingElement for a Specified Authentication Mode](~/docs/framework/wcf/feature-details/how-to-create-a-securitybindingelement-for-a-specified-authentication-mode.md).","nodes":[{"pos":[0,458],"content":"This enumeration is used with the <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement.MessageProtectionOrder%2A?displayProperty=fullName> property of the <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement> and the <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement.MessageProtectionOrder%2A?displayProperty=fullName> property of the <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> classes.","nodes":[{"content":"This enumeration is used with the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement.MessageProtectionOrder%2A?displayProperty=fullName&gt;</ph> property of the <ph id=\"ph2\">&lt;xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement&gt;</ph> and the <ph id=\"ph3\">&lt;xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement.MessageProtectionOrder%2A?displayProperty=fullName&gt;</ph> property of the <ph id=\"ph4\">&lt;xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement&gt;</ph> classes.","pos":[0,458],"source":"This enumeration is used with the <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement.MessageProtectionOrder%2A?displayProperty=fullName> property of the <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement> and the <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement.MessageProtectionOrder%2A?displayProperty=fullName> property of the <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> classes."}]},{"pos":[465,796],"content":"If a message is vulnerable to a digest attack (for example, if the message is short or the entropy is low), you should use the SignBeforeEncryptAndEncryptSignature or EncryptBeforeSign option. (*Entropy* is random data provided by a server, a client, or both, and is used to create a shared key for encrypting and decrypting data.)","nodes":[{"content":"If a message is vulnerable to a digest attack (for example, if the message is short or the entropy is low), you should use the SignBeforeEncryptAndEncryptSignature or EncryptBeforeSign option.","pos":[0,192]},{"content":"(<bpt id=\"p1\">*</bpt>Entropy<ept id=\"p1\">*</ept> is random data provided by a server, a client, or both, and is used to create a shared key for encrypting and decrypting data.)","pos":[193,331],"source":" (*Entropy* is random data provided by a server, a client, or both, and is used to create a shared key for encrypting and decrypting data.)"}]},{"pos":[805,821],"content":"What Is Ordered?","linkify":"What Is Ordered?","nodes":[{"content":"What Is Ordered?","pos":[0,16]}]},{"pos":[825,1232],"content":"[!INCLUDE[indigo2](~/includes/indigo2-md.md)] offers three different protection levels that determine how messages are secured using SOAP message security. The default is SignBeforeEncryptAndEncryptSignature. This setting first signs the message, encrypts the message body, and then encrypts the XML signature. This reduces the likelihood of a successful cryptographic guessing attack against the signature.","nodes":[{"content":"<ph id=\"ph1\">[!INCLUDE[indigo2](~/includes/indigo2-md.md)]</ph> offers three different protection levels that determine how messages are secured using SOAP message security.","pos":[0,155],"source":"[!INCLUDE[indigo2](~/includes/indigo2-md.md)] offers three different protection levels that determine how messages are secured using SOAP message security."},{"content":"The default is SignBeforeEncryptAndEncryptSignature.","pos":[156,208]},{"content":"This setting first signs the message, encrypts the message body, and then encrypts the XML signature.","pos":[209,310]},{"content":"This reduces the likelihood of a successful cryptographic guessing attack against the signature.","pos":[311,407]}]},{"pos":[1239,1720],"content":"However, using the default has performance implications. In effect, there is a tradeoff of performance for increased security. Encrypting the signature can decrease performance between 10 percent and 40 percent. If the data content of the message is of low value, and performance throughput is more significant, use SignBeforeEncrypt. With this setting, the signature digest is sent in clear text, and thus the message is more vulnerable to guess-and-verify attacks on low entropy.","nodes":[{"content":"However, using the default has performance implications. In effect, there is a tradeoff of performance for increased security. Encrypting the signature can decrease performance between 10 percent and 40 percent. If the data content of the message is of low value, and performance throughput is more significant, use SignBeforeEncrypt. With this setting, the signature digest is sent in clear text, and thus the message is more vulnerable to guess-and-verify attacks on low entropy.","pos":[0,481],"nodes":[{"content":"However, using the default has performance implications.","pos":[0,56]},{"content":"In effect, there is a tradeoff of performance for increased security.","pos":[57,126]},{"content":"Encrypting the signature can decrease performance between 10 percent and 40 percent.","pos":[127,211]},{"content":"If the data content of the message is of low value, and performance throughput is more significant, use SignBeforeEncrypt.","pos":[212,334]},{"content":"With this setting, the signature digest is sent in clear text, and thus the message is more vulnerable to guess-and-verify attacks on low entropy.","pos":[335,481]}]}]},{"pos":[1729,1749],"content":"Custom Bindings Only","linkify":"Custom Bindings Only","nodes":[{"content":"Custom Bindings Only","pos":[0,20]}]},{"pos":[1753,2297],"content":"To change the `MessageProtectionOrder` property requires the creation of a custom security binding. For more information about creating custom bindings, see [Creating User-Defined Bindings](~/docs/framework/wcf/extending/creating-user-defined-bindings.md). For more information about creating a custom binding for a specific authentication mode, see [How to: Create a SecurityBindingElement for a Specified Authentication Mode](~/docs/framework/wcf/feature-details/how-to-create-a-securitybindingelement-for-a-specified-authentication-mode.md).","nodes":[{"content":"To change the <ph id=\"ph1\">`MessageProtectionOrder`</ph> property requires the creation of a custom security binding.","pos":[0,99],"source":"To change the `MessageProtectionOrder` property requires the creation of a custom security binding."},{"content":"For more information about creating custom bindings, see <bpt id=\"p1\">[</bpt>Creating User-Defined Bindings<ept id=\"p1\">](~/docs/framework/wcf/extending/creating-user-defined-bindings.md)</ept>.","pos":[100,256],"source":" For more information about creating custom bindings, see [Creating User-Defined Bindings](~/docs/framework/wcf/extending/creating-user-defined-bindings.md)."},{"content":"For more information about creating a custom binding for a specific authentication mode, see <bpt id=\"p1\">[</bpt>How to: Create a SecurityBindingElement for a Specified Authentication Mode<ept id=\"p1\">](~/docs/framework/wcf/feature-details/how-to-create-a-securitybindingelement-for-a-specified-authentication-mode.md)</ept>.","pos":[257,544],"source":" For more information about creating a custom binding for a specific authentication mode, see [How to: Create a SecurityBindingElement for a Specified Authentication Mode](~/docs/framework/wcf/feature-details/how-to-create-a-securitybindingelement-for-a-specified-authentication-mode.md)."}]}],"pos":[771,3081],"yaml":true,"extradata":"MT"},{"content":"Specifies that the SOAP message is encrypted before a digital signature is generated for the SOAP message.","nodes":[{"pos":[0,106],"content":"Specifies that the SOAP message is encrypted before a digital signature is generated for the SOAP message.","nodes":[{"content":"Specifies that the SOAP message is encrypted before a digital signature is generated for the SOAP message.","pos":[0,106]}]}],"pos":[4764,4871],"yaml":true},{"content":"Specifies that a digital signature is generated for the SOAP message before any portion of the SOAP message is encrypted, but the digital signature is not encrypted.","nodes":[{"pos":[0,165],"content":"Specifies that a digital signature is generated for the SOAP message before any portion of the SOAP message is encrypted, but the digital signature is not encrypted.","nodes":[{"content":"Specifies that a digital signature is generated for the SOAP message before any portion of the SOAP message is encrypted, but the digital signature is not encrypted.","pos":[0,165]}]}],"pos":[5991,6157],"yaml":true},{"content":"Specifies that a digital signature is generated for the SOAP message before any portion of the SOAP message is encrypted, and the digital signature is encrypted.","nodes":[{"pos":[0,161],"content":"Specifies that a digital signature is generated for the SOAP message before any portion of the SOAP message is encrypted, and the digital signature is encrypted.","nodes":[{"content":"Specifies that a digital signature is generated for the SOAP message before any portion of the SOAP message is encrypted, and the digital signature is encrypted.","pos":[0,161]}]}],"pos":[7391,7553],"yaml":true}],"content":"### YamlMime:ManagedReference\nitems:\n- uid: System.ServiceModel.Security.MessageProtectionOrder\n  commentId: T:System.ServiceModel.Security.MessageProtectionOrder\n  id: MessageProtectionOrder\n  children:\n  - System.ServiceModel.Security.MessageProtectionOrder.EncryptBeforeSign\n  - System.ServiceModel.Security.MessageProtectionOrder.SignBeforeEncrypt\n  - System.ServiceModel.Security.MessageProtectionOrder.SignBeforeEncryptAndEncryptSignature\n  langs:\n  - csharp\n  name: MessageProtectionOrder\n  nameWithType: MessageProtectionOrder\n  fullName: System.ServiceModel.Security.MessageProtectionOrder\n  type: Enum\n  assemblies:\n  - System.ServiceModel\n  namespace: System.ServiceModel.Security\n  summary: Specifies the order of operations that protect a message.\n  remarks: \"This enumeration is used with the <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement.MessageProtectionOrder%2A?displayProperty=fullName> property of the <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement> and the <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement.MessageProtectionOrder%2A?displayProperty=fullName> property of the <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> classes.  \\n  \\n If a message is vulnerable to a digest attack (for example, if the message is short or the entropy is low), you should use the SignBeforeEncryptAndEncryptSignature or EncryptBeforeSign option. (*Entropy* is random data provided by a server, a client, or both, and is used to create a shared key for encrypting and decrypting data.)  \\n  \\n## What Is Ordered?  \\n [!INCLUDE[indigo2](~/includes/indigo2-md.md)] offers three different protection levels that determine how messages are secured using SOAP message security. The default is SignBeforeEncryptAndEncryptSignature. This setting first signs the message, encrypts the message body, and then encrypts the XML signature. This reduces the likelihood of a successful cryptographic guessing attack against the signature.  \\n  \\n However, using the default has performance implications. In effect, there is a tradeoff of performance for increased security. Encrypting the signature can decrease performance between 10 percent and 40 percent. If the data content of the message is of low value, and performance throughput is more significant, use SignBeforeEncrypt. With this setting, the signature digest is sent in clear text, and thus the message is more vulnerable to guess-and-verify attacks on low entropy.  \\n  \\n## Custom Bindings Only  \\n To change the `MessageProtectionOrder` property requires the creation of a custom security binding. For more information about creating custom bindings, see [Creating User-Defined Bindings](~/docs/framework/wcf/extending/creating-user-defined-bindings.md). For more information about creating a custom binding for a specific authentication mode, see [How to: Create a SecurityBindingElement for a Specified Authentication Mode](~/docs/framework/wcf/feature-details/how-to-create-a-securitybindingelement-for-a-specified-authentication-mode.md).\"\n  example:\n  - \"The following example creates a <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> element and sets its <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement.MessageProtectionOrder%2A> property to SignBeforeEncrypt.  \\n  \\n [!code-csharp[c_CustomBinding#3](~/samples/snippets/csharp/VS_Snippets_CFX/c_custombinding/cs/c_custombinding.cs#3)]\\n [!code-vb[c_CustomBinding#3](~/samples/snippets/visualbasic/VS_Snippets_CFX/c_custombinding/vb/source.vb#3)]\"\n  syntax:\n    content: public enum MessageProtectionOrder\n  inheritance:\n  - System.Object\n  - System.ValueType\n  - System.Enum\n  version:\n  - netframework-4.5.1\n  - netframework-4.5.2\n  - netframework-4.5\n  - netframework-4.6.1\n  - netframework-4.6.2\n  - netframework-4.6\n  - netframework-4.7\n  monikers:\n  - netframework-4.5.1\n  - netframework-4.5.2\n  - netframework-4.5\n  - netframework-4.6.1\n  - netframework-4.6.2\n  - netframework-4.6\n  - netframework-4.7\n  content_git_url: https://github.com/dotnet/docs/blob/master/xml/System.ServiceModel.Security/MessageProtectionOrder.xml\n  ms.technology:\n  - dotnet-standard\n  author: Erikre\n  ms.author: erikre\n  manager: erikre\n- uid: System.ServiceModel.Security.MessageProtectionOrder.EncryptBeforeSign\n  commentId: F:System.ServiceModel.Security.MessageProtectionOrder.EncryptBeforeSign\n  id: EncryptBeforeSign\n  parent: System.ServiceModel.Security.MessageProtectionOrder\n  langs:\n  - csharp\n  name: EncryptBeforeSign\n  nameWithType: MessageProtectionOrder.EncryptBeforeSign\n  fullName: MessageProtectionOrder.EncryptBeforeSign\n  type: Field\n  assemblies:\n  - System.ServiceModel\n  namespace: System.ServiceModel.Security\n  summary: Specifies that the SOAP message is encrypted before a digital signature is generated for the SOAP message.\n  syntax:\n    content: EncryptBeforeSign\n    return:\n      type: System.ServiceModel.Security.MessageProtectionOrder\n      description: ''\n  exceptions: []\n  version:\n  - netframework-4.5.1\n  - netframework-4.5.2\n  - netframework-4.5\n  - netframework-4.6.1\n  - netframework-4.6.2\n  - netframework-4.6\n  - netframework-4.7\n  monikers:\n  - netframework-4.5.1\n  - netframework-4.5.2\n  - netframework-4.5\n  - netframework-4.6.1\n  - netframework-4.6.2\n  - netframework-4.6\n  - netframework-4.7\n  content_git_url: https://github.com/dotnet/docs/blob/master/xml/System.ServiceModel.Security/MessageProtectionOrder.xml\n- uid: System.ServiceModel.Security.MessageProtectionOrder.SignBeforeEncrypt\n  commentId: F:System.ServiceModel.Security.MessageProtectionOrder.SignBeforeEncrypt\n  id: SignBeforeEncrypt\n  parent: System.ServiceModel.Security.MessageProtectionOrder\n  langs:\n  - csharp\n  name: SignBeforeEncrypt\n  nameWithType: MessageProtectionOrder.SignBeforeEncrypt\n  fullName: MessageProtectionOrder.SignBeforeEncrypt\n  type: Field\n  assemblies:\n  - System.ServiceModel\n  namespace: System.ServiceModel.Security\n  summary: Specifies that a digital signature is generated for the SOAP message before any portion of the SOAP message is encrypted, but the digital signature is not encrypted.\n  syntax:\n    content: SignBeforeEncrypt\n    return:\n      type: System.ServiceModel.Security.MessageProtectionOrder\n      description: ''\n  exceptions: []\n  version:\n  - netframework-4.5.1\n  - netframework-4.5.2\n  - netframework-4.5\n  - netframework-4.6.1\n  - netframework-4.6.2\n  - netframework-4.6\n  - netframework-4.7\n  monikers:\n  - netframework-4.5.1\n  - netframework-4.5.2\n  - netframework-4.5\n  - netframework-4.6.1\n  - netframework-4.6.2\n  - netframework-4.6\n  - netframework-4.7\n  content_git_url: https://github.com/dotnet/docs/blob/master/xml/System.ServiceModel.Security/MessageProtectionOrder.xml\n- uid: System.ServiceModel.Security.MessageProtectionOrder.SignBeforeEncryptAndEncryptSignature\n  commentId: F:System.ServiceModel.Security.MessageProtectionOrder.SignBeforeEncryptAndEncryptSignature\n  id: SignBeforeEncryptAndEncryptSignature\n  parent: System.ServiceModel.Security.MessageProtectionOrder\n  langs:\n  - csharp\n  name: SignBeforeEncryptAndEncryptSignature\n  nameWithType: MessageProtectionOrder.SignBeforeEncryptAndEncryptSignature\n  fullName: MessageProtectionOrder.SignBeforeEncryptAndEncryptSignature\n  type: Field\n  assemblies:\n  - System.ServiceModel\n  namespace: System.ServiceModel.Security\n  summary: Specifies that a digital signature is generated for the SOAP message before any portion of the SOAP message is encrypted, and the digital signature is encrypted.\n  syntax:\n    content: SignBeforeEncryptAndEncryptSignature\n    return:\n      type: System.ServiceModel.Security.MessageProtectionOrder\n      description: ''\n  exceptions: []\n  version:\n  - netframework-4.5.1\n  - netframework-4.5.2\n  - netframework-4.5\n  - netframework-4.6.1\n  - netframework-4.6.2\n  - netframework-4.6\n  - netframework-4.7\n  monikers:\n  - netframework-4.5.1\n  - netframework-4.5.2\n  - netframework-4.5\n  - netframework-4.6.1\n  - netframework-4.6.2\n  - netframework-4.6\n  - netframework-4.7\n  content_git_url: https://github.com/dotnet/docs/blob/master/xml/System.ServiceModel.Security/MessageProtectionOrder.xml\nreferences:\n- uid: System.Enum\n  parent: System\n  isExternal: false\n  name: Enum\n  nameWithType: Enum\n  fullName: System.Enum\n- uid: System.ServiceModel.Security.MessageProtectionOrder.EncryptBeforeSign\n  parent: System.ServiceModel.Security.MessageProtectionOrder\n  isExternal: false\n  name: EncryptBeforeSign\n  nameWithType: MessageProtectionOrder.EncryptBeforeSign\n  fullName: MessageProtectionOrder.EncryptBeforeSign\n- uid: System.ServiceModel.Security.MessageProtectionOrder\n  parent: System.ServiceModel.Security\n  isExternal: false\n  name: MessageProtectionOrder\n  nameWithType: MessageProtectionOrder\n  fullName: System.ServiceModel.Security.MessageProtectionOrder\n- uid: System.ServiceModel.Security.MessageProtectionOrder.SignBeforeEncrypt\n  parent: System.ServiceModel.Security.MessageProtectionOrder\n  isExternal: false\n  name: SignBeforeEncrypt\n  nameWithType: MessageProtectionOrder.SignBeforeEncrypt\n  fullName: MessageProtectionOrder.SignBeforeEncrypt\n- uid: System.ServiceModel.Security.MessageProtectionOrder.SignBeforeEncryptAndEncryptSignature\n  parent: System.ServiceModel.Security.MessageProtectionOrder\n  isExternal: false\n  name: SignBeforeEncryptAndEncryptSignature\n  nameWithType: MessageProtectionOrder.SignBeforeEncryptAndEncryptSignature\n  fullName: MessageProtectionOrder.SignBeforeEncryptAndEncryptSignature\n"}